{# File: templates/admin/_sidebar.html.twig #}
{# Expects 'current_route' variable to be passed from the including template #}
{% set current_route = current_route|default('') %}

<aside class="admin-sidebar"> {# Styled by app.css #}
    <h4>Admin Panel</h4>
    <ul class="nav flex-column">

        {# --- Standard Admin Links --- #}
        <li class="nav-item">
            <a href="{{ path('admin_dashboard') }}"
               class="nav-link{{ current_route == 'admin_dashboard' ? ' active' : '' }}">
                <i class="fas fa-tachometer-alt"></i> <span>Dashboard</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{{ path('admin_evenement_index') }}"
               class="nav-link{{ current_route starts with 'admin_evenement_' ? ' active' : '' }}">
                <i class="fas fa-calendar-alt"></i> <span>Manage Events</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{{ path('admin_moyen_de_transport_index') }}"
               class="nav-link{{ current_route starts with 'admin_moyen_de_transport_' ? ' active' : '' }}">
                <i class="fas fa-shuttle-van"></i> <span>Manage Transports</span>
            </a>
        </li>

        {# --- User Link --- #}
        <li class="nav-item">
            <a href="{{ path('app_user_index') }}"
               class="nav-link{{ current_route starts with 'app_user_' ? ' active' : '' }}">
                <i class="fas fa-users"></i> <span>Manage Users</span>
            </a>
        </li>
        {# --- END User Link --- #}

        {# --- Links for New/Corrected Gestions --- #}
        <li class="nav-item">
            <a href="{{ path('app_admin_parcour_index') }}"
               class="nav-link{{ current_route starts with 'app_admin_parcour_' ? ' active' : '' }}">
                <i class="fas fa-route"></i>
                <span>Manage Parcours</span>
            </a>
        </li>
        <li class="nav-item">
            {# <<< ENSURE THIS PATH IS CORRECT >>> #}
            <a href="{{ path('app_offre_index') }}"
               class="nav-link{{ current_route starts with 'app_offre_' ? ' active' : '' }}">
                <i class="fas fa-car-side"></i>
                <span>Manage Offres</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{{ path('app_admin_livraison_index') }}"
               class="nav-link{{ current_route starts with 'app_admin_livraison_' ? ' active' : '' }}">
                <i class="fas fa-truck-loading"></i>
                <span>Manage Deliveries</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="{{ path('app_package_index') }}"
               class="nav-link{{ current_route starts with 'app_package_' ? ' active' : '' }}">
                <i class="fas fa-box-open"></i>
                <span>Manage Packages</span>
            </a>
        </li>

        {# --- Other Admin Links --- #}
        <li class="nav-item">
            <a href="{{ path('admin_reclamations_index') }}"
               class="nav-link{{ current_route starts with 'admin_reclamations_' ? ' active' : '' }}">
                <i class="fas fa-envelope-open-text"></i> <span>View Reclamations</span>
            </a>
        </li>

        {# --- Logout --- #}
        <li class="nav-item mt-auto">
            <a href="{{ path('app_logout') }}" class="nav-link text-danger">
                <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
            </a>
        </li>
    </ul>
</aside>